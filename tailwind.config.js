const plugin = require('tailwindcss/plugin');

const spacing = [...Array(301).keys()].reduce(
  (res, key) => ({ ...res, [key]: `${key}px` }),
  {},
);

module.exports = {
  prefix: '',
  future: {
    removeDeprecatedGapUtilities: true,
  },
  purge: {
    enabled: true,
    content: ['./src/**/*.tsx', './src/**/*.ts'],
    options: {
      whitelistPatterns: [
        /^bg-color/,
        /^text/,
        /^bg/,
        /^font/,
        /^border/,
        /^rounded/,
        /^opacity/,
        /^bg-opacity/,
        /^min-w/,
        /^w-/,
        /^max-w-/,
        /^min-h-/,
        /^h-/,
        /^md:h-/,
        /^max-h-/,
        /^px-/,
        /^pl-/,
        /^py-/,
        /^my-/,
        /^mx-/,
        /^mr-/,
        /^mb-/,
        /^order-/,
        /^md:/,
      ],
    },
  },
  important: false,
  separator: ':',
  variants: {
    height: ['responsive'],
    margin: ['last'],
  },
  theme: {
    extend: {
      lineHeight: {
        0: '0',
        1.15: '1.15',
        1.2: '1.2',
        1.5: '1.5',
        2: '2',
        10: '10px',
        12: '12px',
        13: '13px',
        14: '14px',
        16: '16px',
        17: '17px',
        18: '18px',
        19: '19px',
        20: '20px',
        21: '21px',
        22: '22px',
        24: '24px',
        25: '25px',
        26: '26px',
        27: '27px',
        28: '28px',
        29: '29px',
        31: '31px',
        32: '32px',
        33: '33px',
        34: '34px',
        36: '36px',
        38: '38px',
        40: '40px',
        41: '41px',
        42: '42px',
        45: '45px',
        48: '48px',
        56: '56px',
        58: '58px',
        59: '59px',
        60: '60px',
        84: '84px',
      },
    },
    borderWidth: {
      default: '1px',
      0.5: '0.5px',
      0: '0',
      1: '1px',
      2: '2px',
      3: '3px',
      4: '4px',
      6: '6px',
      8: '8px',
      12: '12px',
    },
    screens: {
      xxxsm: '320px',
      xxsm: '375px',
      xsm: '414px',
      sm: '640px',
      md: '768px',
      lg: '1024px',
      xl: '1280px',
      xxl: '1400px',
    },
    colors: {
      transparent: 'transparent',
      purple: '#672f68',
      'dark-purple': '#574A88',
      'light-purple': '#A58DB2',
      'light-purple100': '#735085',
      blue: '#4f9dba',
      mint: '#A8CED3',
      green: '#30b5a7',
      'dark-green': '#538E97',
      black: '#222222',
      gray050: '#3C3C3C',
      gray100: '#666666',
      gray180: '#969696',
      gray200: '#999999',
      gray300: '#BBBBBB',
      gray350: '#cdcdcd',
      gray400: '#dadada',
      white: '#ffffff',
      red: '#FF5B59',
    },
    spacing: {
      ...spacing,
      301: '301px',
      305: '305px',
      306: '306px',
      308: '308px',
      309: '309px',
      310: '310px',
      321: '321px',
      325: '325px',
      326: '326px',
      330: '330px',
      333: '333px',
      337: '337px',
      342: '342px',
      345: '345px',
      350: '350px',
      352: '352px',
      357: '357px',
      356: '356px',
      359: '359px',
      360: '360px',
      361: '361px',
      365: '365px',
      366: '366px',
      367: '367px',
      368: '368px',
      369: '369px',
      373: '373px',
      375: '375px',
      377: '377px',
      382: '382px',
      386: '386px',
      387: '387px',
      389: '389px',
      390: '390px',
      391: '391px',
      395: '395px',
      396: '396px',
      406: '406px',
      407: '407px',
      408: '408px',
      414: '414px',
      421: '421px',
      422: '422px',
      424: '424px',
      427: '427px',
      433: '433px',
      435: '435px',
      436: '436px',
      438: '438px',
      445: '445px',
      451: '451px',
      452: '452px',
      454: '454px',
      459: '459px',
      460: '460px',
      468: '468px',
      470: '470px',
      477: '477px',
      480: '480px',
      485: '485px',
      487: '487px',
      488: '488px',
      489: '489px',
      492: '492px',
      501: '501px',
      515: '515px',
      516: '516px',
      517: '517px',
      519: '519px',
      522: '522px',
      525: '525px',
      528: '528px',
      537: '537px',
      564: '564px',
      570: '570px',
      593: '593px',
      607: '607px',
      616: '616px',
      625: '625px',
      670: '670px',
      751: '751px',
      771: '771px',
      794: '794px',
      800: '800px',
      840: '840px',
      900: '900px',
      907: '907px',
      938: '938px',
      961: '961px',
      1105: '1105px',
      1280: '1280px',
      1641: '1641px',
      'bg-m': 'calc(100vh - 288px)',
    },
    backgroundColor: (theme) => theme('colors'),
    backgroundSize: {
      auto: 'auto',
      cover: 'cover',
      contain: 'contain',
    },
    borderColor: (theme) => theme('colors'),
    borderRadius: {
      xsm: '4px',
      default: '6px',
      sm: '8px',
      md: '12px',
      lg: '50%',
      full: '9999px',
    },
    fontFamily: {
      sans: 'Noto Sans KR, sans-serif',
      bar: 'Barlow, sans-serif',
      mont: 'Montserrat, sans-serif',
    },
    fontSize: {
      10: '10px',
      11: '11px',
      12: '12px',
      13: '13px',
      14: '14px',
      15: '15px',
      16: '16px',
      17: '17px',
      18: '18px',
      19: '19px',
      20: '20px',
      21: '21px',
      22: '22px',
      23: '23px',
      24: '24px',
      25: '25px',
      26: '26px',
      28: '28px',
      30: '30px',
      32: '32px',
      34: '34px',
      36: '36px',
      38: '38px',
      40: '40px',
      42: '42px',
      44: '44px',
      46: '46px',
      48: '48px',
      50: '50px',
      56: '56px',
      58: '58px',
      60: '60px',
      70: '70px',
      186: '186px',
    },
    fontWeight: {
      'extra-bold': '900',
      bold: '700',
      'semi-bold': '600',
      medium: '500',
      regular: '400',
      light: '300',
      thin: '100',
    },
    margin: (theme, { negative }) => ({
      auto: 'auto',
      ...theme('spacing'),
      ...negative(theme('spacing')),
    }),
    opacity: {
      0: '0',
      10: '0.1',
      30: '0.3',
      32: '0.32',
      70: '0.7',
      90: '0.9',
      100: '1',
    },
    padding: (theme) => ({
      ...theme('spacing'),
    }),
    textColor: (theme) => theme('colors'),
    width: (theme) => ({
      auto: 'auto',
      ...theme('spacing'),
      '1/10': '10%',
      '1/9': '11.11%',
      '2/25': '12.5%',
      '1/4': '25%',
      '1/3': '33.33%',
      '2/3': '66.66%',
      '1/2': '50%',
      '3/4': '75%',
      '4/5': '80%',
      full: '100%',
      screen: '100vw',
    }),
    height: (theme) => ({
      ...theme('spacing'),
      '1/5': '20%',
      '2/5': '40%',
      '3/5': '60%',
      '4/5': '80%',
      full: '100%',
      screen: '100vh',
    }),
    minWidth: {
      0: '0px',
      '1/5': '20%',
      '2/5': '40%',
      '3/5': '60%',
      '4/5': '80%',
      full: '100%',
      screen: '100vh',
    },
    minHeight: {
      0: '0px',
      '1/5': '20%',
      '2/5': '40%',
      '3/5': '60%',
      '4/5': '80%',
      full: '100%',
      screen: '100vh',
      1066: '1066px',
      858: '858px',
    },
    maxWidth: {
      0: '0px',
      '1/5': '20%',
      '2/5': '40%',
      '3/5': '60%',
      '4/5': '80%',
      767: '767px',
      414: '414px',
      full: '100%',
      screen: '100vh',
    },
    maxHeight: {
      0: '0px',
      '1/5': '20%',
      '2/5': '40%',
      '3/5': '60%',
      '4/5': '80%',
      full: '100%',
      screen: '100vh',
    },
    zIndex: {
      auto: 'auto',
      '-1': '-1',
      0: '0',
      1: '1',
      2: '2',
      3: '3',
      4: '4',
      5: '5',
      6: '6',
      7: '7',
      8: '8',
      9: '9',
      10: '10',
      20: '20',
      30: '30',
      40: '40',
      50: '50',
      100: '100',
    },
    linearGradientColors: (theme) => theme('colors'),
    letterSpacing: {
      inherit: 'inherit',
      normal: '0',
      auto: 'auto',
      '-0.23': '-0.23px',
      '-0.38': '-0.38px',
      '-0.39': '-0.39px',
      '-0.41': '-0.41px',
      '-0.43': '-0.43px',
      '-0.47': '-0.47px',
      '-0.5': '-0.5px',
      '-0.53': '-0.53px',
      '-0.6': '-0.6px',
      '-0.65': '-0.65px',
      '-0.67': '-0.67px',
      '-0.75': '-0.75px',
      '-0.79': '-0.79px',
      '-0.82': '-0.82px',
      0.5: '0.5px',
      1: '1px',
      1.1: '1.1px',
      1.2: '1.2px',
      1.4: '1.4px',
      1.6: '1.6px',
      2: '2px',
      2.17: '2.17px',
      2.43: '2.43px',
      2.61: '2.61px',
      3: '3px',
    },
    inset: (theme, { negative }) => ({
      ...theme('spacing'),
      ...negative(theme('spacing')),
      '1/2': '50%',
      full: '100%',
      auto: 'auto',
    }),
  },
  plugins: [
    require('tailwindcss-gradients'),
    require('tailwindcss-pseudo-elements'),
    plugin(({ addUtilities }) => {
      const newUtilities = {
        '.clickable': {
          position: 'relative',
          cursor: 'pointer',
          'user-select': 'none',

          ':active:after': {
            position: 'absolute',
            top: 0,
            left: 0,
            right: 0,
            bottom: 0,
            background: 'rgba(0, 0, 0, 0.08)',
            content: '""',
            borderColor: '#000',
          },
        },
        '.empty-content': {
          ':before': {
            content: "''",
          },
          ':after': {
            content: "''",
          },
        },
        '.truncate-2': {
          display: '-webkit-box',
          overflow: 'hidden',
          'text-overflow': 'ellipsis',
          '-webkit-line-clamp': '2',
          '-webkit-box-orient': 'vertical',
        },
        '.truncate-3': {
          display: '-webkit-box',
          overflow: 'hidden',
          'text-overflow': 'ellipsis',
          '-webkit-line-clamp': '3',
          '-webkit-box-orient': 'vertical',
        },
        '.flex-center': {
          display: 'flex',
          'justify-content': 'center',
          'align-items': 'center',
        },
      };

      addUtilities(newUtilities, ['before', 'after']);
    }),
  ],
};
